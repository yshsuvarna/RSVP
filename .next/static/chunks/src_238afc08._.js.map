{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yashs/Desktop/RSVP/src/lib/epub/parseEpub.ts"],"sourcesContent":["import JSZip from \"jszip\";\nimport { DOMParser } from \"xmldom\";\n\nexport interface EpubMetadata {\n  title: string;\n  creator: string;\n  size: number;\n}\n\nexport interface ParsedEpub {\n  metadata: EpubMetadata;\n  text: string;\n}\n\nexport async function parseEpub(file: File): Promise<ParsedEpub> {\n  try {\n    // Read the file as array buffer\n    const arrayBuffer = await file.arrayBuffer();\n    \n    // Load the EPUB with JSZip\n    const zip = await JSZip.loadAsync(arrayBuffer);\n    \n    // Read the container.xml to find the OPF file\n    const containerXml = await zip.file(\"META-INF/container.xml\")?.async(\"string\");\n    if (!containerXml) {\n      throw new Error(\"Invalid EPUB: Missing container.xml\");\n    }\n    \n    const containerDoc = new DOMParser().parseFromString(containerXml, \"text/xml\");\n    const opfPath = containerDoc.getElementsByTagName(\"rootfile\")[0]?.getAttribute(\"full-path\");\n    if (!opfPath) {\n      throw new Error(\"Invalid EPUB: Missing OPF file reference\");\n    }\n    \n    // Read the OPF file\n    const opfContent = await zip.file(opfPath)?.async(\"string\");\n    if (!opfContent) {\n      throw new Error(\"Invalid EPUB: OPF file not found\");\n    }\n    \n    const opfDoc = new DOMParser().parseFromString(opfContent, \"text/xml\");\n    \n    // Extract metadata\n    const title = opfDoc.getElementsByTagName(\"dc:title\")[0]?.textContent || \"Unknown Title\";\n    const creator = opfDoc.getElementsByTagName(\"dc:creator\")[0]?.textContent || \"Unknown Author\";\n    \n    // Get the spine (reading order)\n    const spineItems = opfDoc.getElementsByTagName(\"itemref\");\n    const manifestItems = opfDoc.getElementsByTagName(\"item\");\n    \n    // Create a map of id to href\n    const idToHref: { [key: string]: string } = {};\n    for (let i = 0; i < manifestItems.length; i++) {\n      const item = manifestItems[i];\n      const id = item.getAttribute(\"id\");\n      const href = item.getAttribute(\"href\");\n      if (id && href) {\n        idToHref[id] = href;\n      }\n    }\n    \n    // Extract text from spine items in order\n    const textParts: string[] = [];\n    \n    for (let i = 0; i < spineItems.length; i++) {\n      const itemRef = spineItems[i];\n      const idref = itemRef.getAttribute(\"idref\");\n      if (!idref || !idToHref[idref]) continue;\n      \n      const href = idToHref[idref];\n      const fullPath = opfPath.includes(\"/\") \n        ? opfPath.substring(0, opfPath.lastIndexOf(\"/\") + 1) + href\n        : href;\n      \n      const xhtmlContent = await zip.file(fullPath)?.async(\"string\");\n      if (!xhtmlContent) continue;\n      \n      // Parse XHTML and extract text\n      const xhtmlDoc = new DOMParser().parseFromString(xhtmlContent, \"text/html\");\n      const textContent = extractTextFromElement(xhtmlDoc.documentElement);\n      if (textContent.trim()) {\n        textParts.push(textContent.trim());\n      }\n    }\n    \n    const fullText = textParts.join(\"\\n\\n\");\n    \n    return {\n      metadata: {\n        title,\n        creator,\n        size: file.size\n      },\n      text: fullText\n    };\n    \n  } catch (error) {\n    throw new Error(`Failed to parse EPUB: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n  }\n}\n\nfunction extractTextFromElement(element: Element): string {\n  let text = \"\";\n  \n  if (element.nodeType === 3) { // Text node\n    return element.textContent || \"\";\n  }\n  \n  if (element.nodeType === 1) { // Element node\n    // Skip script and style elements\n    if (element.tagName === \"SCRIPT\" || element.tagName === \"STYLE\") {\n      return \"\";\n    }\n    \n    // Process child nodes\n    for (let i = 0; i < element.childNodes.length; i++) {\n      const child = element.childNodes[i];\n      if (child.nodeType === 1) { // Element\n        text += extractTextFromElement(child as Element);\n      } else if (child.nodeType === 3) { // Text\n        text += child.textContent || \"\";\n      }\n    }\n    \n    // Add line breaks for block elements\n    const blockElements = [\"P\", \"DIV\", \"H1\", \"H2\", \"H3\", \"H4\", \"H5\", \"H6\", \"BR\", \"LI\"];\n    if (blockElements.includes(element.tagName)) {\n      text += \"\\n\";\n    }\n  }\n  \n  return text;\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yashs/Desktop/RSVP/src/lib/text/tokenize.ts"],"sourcesContent":["export interface Token {\n  text: string;\n  isSentenceEnd: boolean;\n  index: number;\n}\n\nexport function tokenizeText(text: string): Token[] {\n  // Clean up the text - normalize whitespace and remove extra newlines\n  const cleanedText = text\n    .replace(/\\s+/g, \" \")\n    .replace(/\\n\\s*\\n/g, \"\\n\")\n    .trim();\n  \n  // Split on whitespace but keep punctuation attached\n  const words = cleanedText.split(/\\s+/).filter(word => word.length > 0);\n  \n  const tokens: Token[] = [];\n  \n  words.forEach((word, index) => {\n    // Check if this word ends with sentence-ending punctuation\n    const isSentenceEnd = /[.!?]$/.test(word);\n    \n    tokens.push({\n      text: word,\n      isSentenceEnd,\n      index\n    });\n  });\n  \n  return tokens;\n}\n\nexport function getProgressPercentage(currentIndex: number, totalTokens: number): number {\n  if (totalTokens === 0) return 0;\n  return Math.round((currentIndex / totalTokens) * 100);\n}\r\n"],"names":[],"mappings":";;;;;;AAMO,SAAS,aAAa,IAAY;IACvC,qEAAqE;IACrE,MAAM,cAAc,KACjB,OAAO,CAAC,QAAQ,KAChB,OAAO,CAAC,YAAY,MACpB,IAAI;IAEP,oDAAoD;IACpD,MAAM,QAAQ,YAAY,KAAK,CAAC,OAAO,MAAM,CAAC,CAAA,OAAQ,KAAK,MAAM,GAAG;IAEpE,MAAM,SAAkB,EAAE;IAE1B,MAAM,OAAO,CAAC,CAAC,MAAM;QACnB,2DAA2D;QAC3D,MAAM,gBAAgB,SAAS,IAAI,CAAC;QAEpC,OAAO,IAAI,CAAC;YACV,MAAM;YACN;YACA;QACF;IACF;IAEA,OAAO;AACT;AAEO,SAAS,sBAAsB,YAAoB,EAAE,WAAmB;IAC7E,IAAI,gBAAgB,GAAG,OAAO;IAC9B,OAAO,KAAK,KAAK,CAAC,AAAC,eAAe,cAAe;AACnD","debugId":null}},
    {"offset": {"line": 161, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yashs/Desktop/RSVP/src/lib/util/pause.ts"],"sourcesContent":["// Stub function for punctuation-aware pause calculation\n// In a future version, this would return different multipliers based on punctuation\nexport function getPauseMultiplier(_token: string): number {\n  // For now, return 1.0 for all tokens\n  // Future: return different values based on punctuation\n  // e.g., 1.5 for periods, 2.0 for exclamation marks, etc.\n  return 1.0;\n}\r\n"],"names":[],"mappings":"AAAA,wDAAwD;AACxD,oFAAoF;;;;;AAC7E,SAAS,mBAAmB,MAAc;IAC/C,qCAAqC;IACrC,uDAAuD;IACvD,yDAAyD;IACzD,OAAO;AACT","debugId":null}},
    {"offset": {"line": 180, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yashs/Desktop/RSVP/src/components/RSVPPlayer.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { Token, getProgressPercentage } from \"@/lib/text/tokenize\";\nimport { getPauseMultiplier } from \"@/lib/util/pause\";\n\ninterface RSVPPlayerProps {\n  tokens: Token[];\n  onProgressChange?: (progress: number) => void;\n}\n\nexport default function RSVPPlayer({ tokens, onProgressChange }: RSVPPlayerProps) {\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [wpm, setWpm] = useState(300);\n  const intervalRef = useRef<NodeJS.Timeout | null>(null);\n\n  const currentToken = tokens[currentIndex];\n  const progress = getProgressPercentage(currentIndex, tokens.length);\n\n  // Update progress when index changes\n  useEffect(() => {\n    onProgressChange?.(progress);\n  }, [currentIndex, progress, onProgressChange]);\n\n  // Calculate interval based on WPM and pause multiplier\n  const getInterval = (token: Token) => {\n    const baseInterval = 60000 / wpm; // Base interval in milliseconds\n    const multiplier = getPauseMultiplier(token.text);\n    return baseInterval * multiplier;\n  };\n\n  // Start/stop playing\n  useEffect(() => {\n    if (isPlaying && currentIndex < tokens.length) {\n      const token = tokens[currentIndex];\n      const interval = getInterval(token);\n      \n      intervalRef.current = setTimeout(() => {\n        setCurrentIndex(prev => {\n          const nextIndex = prev + 1;\n          if (nextIndex >= tokens.length) {\n            setIsPlaying(false);\n            return prev;\n          }\n          return nextIndex;\n        });\n      }, interval);\n    } else {\n      if (intervalRef.current) {\n        clearTimeout(intervalRef.current);\n        intervalRef.current = null;\n      }\n    }\n\n    return () => {\n      if (intervalRef.current) {\n        clearTimeout(intervalRef.current);\n        intervalRef.current = null;\n      }\n    };\n  }, [isPlaying, currentIndex, tokens, wpm]);\n\n  const handlePlayPause = () => {\n    if (currentIndex >= tokens.length) {\n      // If at the end, restart\n      setCurrentIndex(0);\n      setIsPlaying(true);\n    } else {\n      setIsPlaying(!isPlaying);\n    }\n  };\n\n  const handlePrevious = () => {\n    if (currentIndex > 0) {\n      setCurrentIndex(currentIndex - 1);\n    }\n  };\n\n  const handleNext = () => {\n    if (currentIndex < tokens.length - 1) {\n      setCurrentIndex(currentIndex + 1);\n    }\n  };\n\n  const handleRestart = () => {\n    setCurrentIndex(0);\n    setIsPlaying(false);\n  };\n\n  if (tokens.length === 0) {\n    return (\n      <div className=\"flex items-center justify-center h-64 text-gray-500\">\n        <div className=\"text-center\">\n          <svg className=\"w-16 h-16 mx-auto mb-4 opacity-50\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n          </svg>\n          <p className=\"text-lg\">No text available</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-8\">\n      {/* Current word display */}\n      <div className=\"text-center mb-12\">\n        <div className=\"relative\">\n          <div className=\"text-6xl font-bold text-gray-900 mb-4 min-h-[120px] flex items-center justify-center\">\n            <span className=\"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\n              {currentToken?.text || \"\"}\n            </span>\n          </div>\n          {currentToken?.isSentenceEnd && (\n            <div className=\"absolute -bottom-2 left-1/2 transform -translate-x-1/2\">\n              <div className=\"w-2 h-2 bg-blue-500 rounded-full animate-pulse\"></div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* WPM slider */}\n      <div className=\"mb-12\">\n        <div className=\"max-w-2xl mx-auto\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <label className=\"text-lg font-medium text-gray-900\">\n              Reading Speed\n            </label>\n            <div className=\"bg-gray-100 rounded-full px-4 py-2\">\n              <span className=\"text-gray-900 font-semibold text-lg\">{wpm} WPM</span>\n            </div>\n          </div>\n          <div className=\"relative\">\n            <input\n              type=\"range\"\n              min={100}\n              max={1000}\n              value={wpm}\n              onChange={(e) => setWpm(Number(e.target.value))}\n              className=\"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider\"\n            />\n            <div className=\"flex justify-between text-sm text-gray-500 mt-2\">\n              <span>Slow</span>\n              <span>Fast</span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Control buttons */}\n      <div className=\"flex justify-center gap-4 mb-12\">\n        <button\n          onClick={handlePrevious}\n          disabled={currentIndex === 0}\n          className=\"group relative px-6 py-3 bg-gray-100 text-gray-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-200 transform hover:scale-105 transition-all duration-200 shadow-sm\"\n        >\n          <div className=\"flex items-center gap-2\">\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n            </svg>\n            <span className=\"font-medium\">Previous</span>\n          </div>\n        </button>\n\n        <button\n          onClick={handlePlayPause}\n          className=\"group relative px-8 py-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl font-semibold text-lg\"\n        >\n          <div className=\"flex items-center gap-3\">\n            {isPlaying ? (\n              <>\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n                <span>Pause</span>\n              </>\n            ) : currentIndex >= tokens.length ? (\n              <>\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n                </svg>\n                <span>Restart</span>\n              </>\n            ) : (\n              <>\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n                <span>Play</span>\n              </>\n            )}\n          </div>\n        </button>\n\n        <button\n          onClick={handleNext}\n          disabled={currentIndex >= tokens.length - 1}\n          className=\"group relative px-6 py-3 bg-gray-100 text-gray-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-200 transform hover:scale-105 transition-all duration-200 shadow-sm\"\n        >\n          <div className=\"flex items-center gap-2\">\n            <span className=\"font-medium\">Next</span>\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n            </svg>\n          </div>\n        </button>\n\n        <button\n          onClick={handleRestart}\n          className=\"group relative px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transform hover:scale-105 transition-all duration-200 shadow-sm\"\n        >\n          <div className=\"flex items-center gap-2\">\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n            </svg>\n            <span className=\"font-medium\">Reset</span>\n          </div>\n        </button>\n      </div>\n\n      {/* Progress bar */}\n      <div className=\"max-w-4xl mx-auto\">\n        <div className=\"flex justify-between text-sm text-gray-600 mb-3\">\n          <span className=\"font-medium\">Progress: {progress}%</span>\n          <span className=\"font-medium\">{currentIndex + 1} / {tokens.length} words</span>\n        </div>\n        <div className=\"relative w-full h-3 bg-gray-200 rounded-full overflow-hidden\">\n          <div\n            className=\"h-full bg-gradient-to-r from-blue-500 to-purple-500 rounded-full transition-all duration-500 ease-out shadow-sm\"\n            style={{ width: `${progress}%` }}\n          />\n        </div>\n      </div>\n\n      {/* Status info */}\n      <div className=\"text-center mt-8\">\n        <div className=\"inline-flex items-center gap-3 bg-gray-100 rounded-full px-6 py-3\">\n          <div className={`w-3 h-3 rounded-full ${isPlaying ? \"bg-green-500 animate-pulse\" : \"bg-yellow-500\"}`}></div>\n          <span className=\"text-gray-700 font-medium\">\n            {isPlaying ? \"Reading...\" : \"Paused\"}\n          </span>\n          {currentToken?.isSentenceEnd && (\n            <span className=\"text-blue-600 font-medium\"> End of sentence</span>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 840, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yashs/Desktop/RSVP/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useCallback, useEffect } from \"react\";\nimport { parseEpub, ParsedEpub } from \"@/lib/epub/parseEpub\";\nimport { tokenizeText, Token } from \"@/lib/text/tokenize\";\nimport RSVPPlayer from \"@/components/RSVPPlayer\";\n\ntype AppState = \"upload\" | \"parsing\" | \"ready\" | \"error\";\n\nexport default function Home() {\n  const [appState, setAppState] = useState<AppState>(\"upload\");\n  const [epubData, setEpubData] = useState<ParsedEpub | null>(null);\n  const [tokens, setTokens] = useState<Token[]>([]);\n  const [error, setError] = useState<string>(\"\");\n  const [progress, setProgress] = useState(0);\n  const [isClient, setIsClient] = useState(false);\n\n  useEffect(() => {\n    setIsClient(true);\n  }, []);\n\n  const handleFileUpload = useCallback(async (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (!file) return;\n\n    if (!file.name.toLowerCase().endsWith(\".epub\")) {\n      setError(\"Please select a valid EPUB file\");\n      setAppState(\"error\");\n      return;\n    }\n\n    setAppState(\"parsing\");\n    setError(\"\");\n\n    try {\n      const parsed = await parseEpub(file);\n      setEpubData(parsed);\n      \n      const tokenized = tokenizeText(parsed.text);\n      setTokens(tokenized);\n      \n      setAppState(\"ready\");\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Failed to parse EPUB\");\n      setAppState(\"error\");\n    }\n  }, []);\n\n  const handleRestart = useCallback(() => {\n    setAppState(\"upload\");\n    setEpubData(null);\n    setTokens([]);\n    setError(\"\");\n    setProgress(0);\n  }, []);\n\n  const handleProgressChange = useCallback((newProgress: number) => {\n    setProgress(newProgress);\n  }, []);\n\n  if (!isClient) {\n    return (\n      <div className=\"min-h-screen bg-white flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <header className=\"bg-white shadow-sm border-b border-gray-200\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center py-6\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0\">\n                <div className=\"h-8 w-8 bg-blue-600 rounded-lg flex items-center justify-center\">\n                  <svg className=\"h-5 w-5 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\" />\n                  </svg>\n                </div>\n              </div>\n              <div className=\"ml-3\">\n                <h1 className=\"text-xl font-semibold text-gray-900\">RSVP Reader</h1>\n                <p className=\"text-sm text-gray-500\">Rapid Serial Visual Presentation</p>\n              </div>\n            </div>\n            {appState === \"ready\" && (\n              <button\n                onClick={handleRestart}\n                className=\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                <svg className=\"h-4 w-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n                </svg>\n                New Book\n              </button>\n            )}\n          </div>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {appState === \"upload\" && (\n          <div className=\"max-w-3xl mx-auto\">\n            <div className=\"text-center mb-12\">\n              <h2 className=\"text-3xl font-bold text-gray-900 mb-4\">\n                Upload Your EPUB Book\n              </h2>\n              <p className=\"text-lg text-gray-600 max-w-2xl mx-auto\">\n                Experience reading like never before with our advanced Rapid Serial Visual Presentation technology. \n                Upload an EPUB file to start your personalized reading journey.\n              </p>\n            </div>\n\n            <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-8\">\n              <div className=\"text-center\">\n                <div className=\"mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-blue-100 mb-6\">\n                  <svg className=\"h-10 w-10 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n                  </svg>\n                </div>\n                \n                <input\n                  type=\"file\"\n                  accept=\".epub\"\n                  onChange={handleFileUpload}\n                  className=\"hidden\"\n                  id=\"epub-upload\"\n                />\n                <label\n                  htmlFor=\"epub-upload\"\n                  className=\"cursor-pointer inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200\"\n                >\n                  <svg className=\"h-5 w-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n                  </svg>\n                  Choose EPUB File\n                </label>\n                \n                <div className=\"mt-6 text-sm text-gray-500\">\n                  <p>Supported formats: .epub</p>\n                  <p>Maximum file size: 50MB</p>\n                </div>\n              </div>\n            </div>\n\n            {/* Features */}\n            <div className=\"mt-12 grid grid-cols-1 md:grid-cols-3 gap-6\">\n              <div className=\"text-center\">\n                <div className=\"mx-auto flex items-center justify-center h-12 w-12 rounded-md bg-green-100 mb-4\">\n                  <svg className=\"h-6 w-6 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n                  </svg>\n                </div>\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Fast Reading</h3>\n                <p className=\"text-gray-600\">Read up to 1000 words per minute with our RSVP technology</p>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"mx-auto flex items-center justify-center h-12 w-12 rounded-md bg-purple-100 mb-4\">\n                  <svg className=\"h-6 w-6 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                </div>\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Easy Controls</h3>\n                <p className=\"text-gray-600\">Simple play, pause, and navigation controls</p>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"mx-auto flex items-center justify-center h-12 w-12 rounded-md bg-orange-100 mb-4\">\n                  <svg className=\"h-6 w-6 text-orange-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n                  </svg>\n                </div>\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Progress Tracking</h3>\n                <p className=\"text-gray-600\">Track your reading progress and completion percentage</p>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {appState === \"parsing\" && (\n          <div className=\"max-w-2xl mx-auto\">\n            <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-8 text-center\">\n              <div className=\"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-blue-100 mb-6\">\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n              </div>\n              <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">\n                Processing Your Book\n              </h2>\n              <p className=\"text-gray-600\">\n                We are extracting and optimizing the text from your EPUB file. \n                This usually takes just a few seconds...\n              </p>\n            </div>\n          </div>\n        )}\n\n        {appState === \"error\" && (\n          <div className=\"max-w-2xl mx-auto\">\n            <div className=\"bg-white rounded-xl shadow-sm border border-red-200 p-8 text-center\">\n              <div className=\"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 mb-6\">\n                <svg className=\"h-8 w-8 text-red-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n                </svg>\n              </div>\n              <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">\n                Error Processing File\n              </h2>\n              <p className=\"text-gray-600 mb-6\">\n                {error}\n              </p>\n              <button\n                onClick={handleRestart}\n                className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\"\n              >\n                Try Again\n              </button>\n            </div>\n          </div>\n        )}\n\n        {appState === \"ready\" && epubData && (\n          <div className=\"space-y-8\">\n            {/* Book Info Card */}\n            <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden\">\n              <div className=\"p-6\">\n                <div className=\"flex items-start space-x-4\">\n                  <div className=\"flex-shrink-0\">\n                    <div className=\"h-16 w-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center\">\n                      <svg className=\"h-8 w-8 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\" />\n                      </svg>\n                    </div>\n                  </div>\n                  <div className=\"flex-1 min-w-0\">\n                    <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">\n                      {epubData.metadata.title}\n                    </h2>\n                    <p className=\"text-lg text-gray-600 mb-4\">\n                      by {epubData.metadata.creator}\n                    </p>\n                    <div className=\"flex flex-wrap gap-4 text-sm text-gray-500\">\n                      <div className=\"flex items-center\">\n                        <svg className=\"h-4 w-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z\" />\n                        </svg>\n                        {Math.round(epubData.metadata.size / 1024)} KB\n                      </div>\n                      <div className=\"flex items-center\">\n                        <svg className=\"h-4 w-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                        </svg>\n                        {tokens.length} words\n                      </div>\n                      <div className=\"flex items-center\">\n                        <svg className=\"h-4 w-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                        </svg>\n                        ~{Math.round(tokens.length / 300)} min read\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* RSVP Player */}\n            <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden\">\n              <RSVPPlayer \n                tokens={tokens} \n                onProgressChange={handleProgressChange}\n              />\n            </div>\n          </div>\n        )}\n      </main>\n    </div>\n  );\n}\n "],"names":[],"mappings":"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","debugId":null}}]
}